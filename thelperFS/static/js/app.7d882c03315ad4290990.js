webpackJsonp([1],{"2TCz":function(t,e){},AFIF:function(t,e){},DEo1:function(t,e){},FyDK:function(t,e){},GsN4:function(t,e){},Kv6q:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grey lighten-5",attrs:{id:"app"}},[a("nav",{staticClass:"green"},[a("div",{staticClass:"container nav-wrapper"},[a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"brand-logo left hide-on-small-only"},[t._v("THelperFS")])]),t._v(" "),a("ul",{staticClass:"right ",attrs:{id:"nav-mobile"}},[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/Give","exact-active-class":"active"}},[t._v("Przydział")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/Recieve","exact-active-class":"active"}},[t._v("Zwrot")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/Territories","exact-active-class":"active"}},[t._v("Tereny")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/Publishers","exact-active-class":"active"}},[t._v("Głosiciele")])],1)])],1)]),t._v(" "),a("div",{staticClass:"container"},[a("router-view")],1)])},staticRenderFns:[]};var s=a("VU/8")({name:"App"},n,!1,function(t){a("FyDK")},null,null).exports,r=a("/ocq"),d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("TODO")]),t._v(" "),a("ul",[a("li",[t._v("list old t")]),t._v(" "),a("li",[t._v("list old p")]),t._v(" "),a("li",[t._v("google auth")]),t._v(" "),a("li",[t._v("phone design")]),t._v(" "),a("li",[t._v("add 100 if's")]),t._v(" "),a("li",[t._v("optimize db reads number")])])])}]};var c=a("VU/8")(null,d,!1,function(t){a("rILa")},"data-v-d91c33d6",null).exports,o=a("Sazm"),l=a.n(o),u=(a("3VHS"),l.a.initializeApp({apiKey:"AIzaSyBMkyrtOJnFaypmYaKWVp6o6XOmicNCUq4",authDomain:"thelper-5b878.firebaseapp.com",databaseURL:"https://thelper-5b878.firebaseio.com",projectId:"thelper-5b878",storageBucket:"thelper-5b878.appspot.com",messagingSenderId:"716927623001"}));(u=l.a.firestore()).settings({timestampsInSnapshots:!0});var v=u,m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Wolne tereny")]),t._v(" "),t.loading?a("div",{staticClass:"progress grey lighten-5"},[a("div",{staticClass:"indeterminate green"})]):t._e(),t._v(" "),t._l(t.sortedT,function(e){return a("div",{key:e.tid,staticClass:"collection"},[t.editId===e.tid?a("div",{staticClass:"collection-item list-item list-edit",class:{"green lighten-5":t.editId===e.tid}},[a("div",[a("span",[t._v("\n          "+t._s(e.number)+"\n        ")]),t._v(" "),a("span",[t._v("\n          "+t._s(e.tel?"☎":"")+"\n        ")])]),t._v(" "),a("div",[t._v(t._s(e.desc))]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searching,expression:"searching"}],attrs:{type:"text",placeholder:"Szukaj nazwiska"},domProps:{value:t.searching},on:{input:[function(e){e.target.composing||(t.searching=e.target.value)},function(e){t.$emit("search-surname",e.target.value)}]}}),t._v(" "),t._l(t.sortedP,function(e){return t.searching?a("div",{key:e.pid,staticClass:"collection"},[a("div",{staticClass:"collection-item list-item"},[a("div",[t._v(t._s(e.name))]),t._v(" "),a("div",[t._v(t._s(e.surname))]),t._v(" "),a("button",{staticClass:"btn-flat btn-small green lighten-5",on:{click:function(a){t.onSelect(e)}}},[t._v("Wybierz")])])]):t._e()})],2),t._v(" "),a("label",[t._v("Data przydziału:\n        "),a("input",{attrs:{type:"date"},domProps:{value:t.nDate&&t.nDate.toISOString().split("T")[0]},on:{input:function(e){t.nDate=e.target.valueAsDate}}})]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn-large",on:{click:function(e){t.onEditSubmit()}}},[a("i",{staticClass:"material-icons"},[t._v("\n            check\n          ")])]),t._v(" "),a("button",{staticClass:"btn-flat btn-large",on:{click:t.onCancelHandler}},[a("i",{staticClass:"material-icons"},[t._v("\n            cancel\n          ")])])])]):a("div",{staticClass:"collection-item list-item"},[a("div",[a("span",[t._v("\n          "+t._s(e.number)+"\n        ")]),t._v(" "),a("span",[t._v("\n          "+t._s(e.tel?"☎":"")+"\n        ")])]),t._v(" "),a("div",[t._v(t._s(e.desc))]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn-small green lighten-5",on:{click:function(a){t.onEdit(e)}}},[t._v("\n          Przydziel\n        ")])])])])})],2)},staticRenderFns:[]};var h={name:"Give",data:function(){return{territories:[],publishers:[],editId:"",editData:{},searchDesc:"",searchSurname:"",nDate:new Date,loading:!0}},components:{ListT:a("VU/8")({name:"ListT",data:function(){return{searching:""}},props:["editId","editData","onCancel","onDelete","onEdit","onEditSubmit","sortedT","onSelect","sortedP","searchSurname","nDate","loading"],methods:{onCancelHandler:function(){this.searching="",this.onCancel()}}},m,!1,function(t){a("mg/Y")},"data-v-a2dbb9f2",null).exports},computed:{sortedT:function(){var t=this;return this.territories.slice().filter(function(e){return e.desc.toLowerCase().includes(t.searchDesc.toLowerCase())}).sort(function(t,e){return t.number-e.number})},sortedP:function(){var t=this;return this.publishers.slice().filter(function(e){return e.surname.toLowerCase().includes(t.searchSurname.toLowerCase())})}},created:function(){this.getT(),this.getP()},methods:{getT:function(){var t=this;v.collection("territories").where("free","==",!0).get().then(function(e){var a=[];e.forEach(function(t){a.push(t.data())}),t.territories=a,t.loading=!1}).catch(function(t){M.toast({html:"Błąd: "+t})})},getP:function(){var t=this;v.collection("publishers").get().then(function(e){var a=[];e.forEach(function(e){a.push(e.data()),t.publishers=a})}).catch(function(t){M.toast({html:"Błąd: "+t})})},onEdit:function(t){this.editId=t.tid,this.editData.number=t.number,this.editData.desc=t.desc,this.editData.tel=t.tel,this.editData.given=t.given,this.editData.recieved=t.recieved,this.editData.free=t.free},onCancel:function(){this.editId="",this.editData={},this.searchSurname=""},onEditSubmit:function(){var t=this;this.editData.given.push({date:this.nDate.getTime(),pid:this.editData.pid,name:this.editData.name,surname:this.editData.surname}),v.collection("territories").where("tid","==",this.editId).get().then(function(e){e.forEach(function(e){e.ref.set({tid:t.editId,number:t.editData.number,desc:t.editData.desc,tel:t.editData.tel,given:t.editData.given,recieved:t.editData.recieved,free:!1}).then(t.getT)}),M.toast({html:"Teren przydzielony"}),t.onCancel()})},onSelect:function(t){this.nDate=new Date,this.editData.pid=t.pid,this.editData.name=t.name,this.editData.surname=t.surname,this.editData.has=t.has}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"nav-wrapper"},[a("form",[a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchDesc,expression:"searchDesc"}],attrs:{id:"search",placeholder:"Szukaj opisu",type:"search",required:""},domProps:{value:t.searchDesc},on:{input:function(e){e.target.composing||(t.searchDesc=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("i",{staticClass:"material-icons",on:{click:function(e){t.searchDesc=""}}},[t._v("\n          close")])])])]),t._v(" "),a("list-t",{attrs:{editId:t.editId,editData:t.editData,onCancel:t.onCancel,onEdit:t.onEdit,onEditSubmit:t.onEditSubmit,sortedT:t.sortedT,sortedP:t.sortedP,onSelect:t.onSelect,nDate:t.nDate,loading:t.loading},on:{"search-surname":function(e){t.searchSurname=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label-icon",attrs:{for:"search"}},[e("i",{staticClass:"material-icons"},[this._v("search")])])}]};var p=a("VU/8")(h,f,!1,function(t){a("AFIF")},"data-v-83b36478",null).exports,_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Przydzielone tereny")]),t._v(" "),t.loading?a("div",{staticClass:"progress grey lighten-5"},[a("div",{staticClass:"indeterminate green"})]):t._e(),t._v(" "),t._l(t.sortedT,function(e){return a("div",{key:e.tid,staticClass:"collection"},[t.editId===e.tid?a("div",{staticClass:"collection-item list-item list-edit",class:{"green lighten-5":t.editId===e.tid}},[a("div",[a("span",[t._v("\n          "+t._s(e.number)+"\n        ")]),t._v(" "),a("span",[t._v("\n          "+t._s(e.tel?"☎":"")+"\n        ")]),a("br"),t._v("\n        "+t._s(e.desc)+" "),a("br"),t._v("\n        "+t._s(e.given[e.given.length-1].name)+"\n        "+t._s(e.given[e.given.length-1].surname)+"\n      ")]),t._v(" "),a("label",[t._v("Data opracowania:\n        "),a("input",{attrs:{type:"date"},domProps:{value:t.nDate&&t.nDate.toISOString().split("T")[0]},on:{input:function(e){t.nDate=e.target.valueAsDate}}})]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn-large",on:{click:function(e){t.onEditSubmit()}}},[a("i",{staticClass:"material-icons"},[t._v("\n            check\n          ")])]),t._v(" "),a("button",{staticClass:"btn-flat btn-large",on:{click:t.onCancelHandler}},[a("i",{staticClass:"material-icons"},[t._v("\n            cancel\n          ")])])])]):a("div",{staticClass:"collection-item list-item"},[a("div",[a("span",[t._v("\n          "+t._s(e.number)+"\n        ")]),t._v(" "),a("span",[t._v("\n          "+t._s(e.tel?"☎":"")+"\n        ")])]),t._v(" "),a("div",[t._v(t._s(e.desc))]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn-small green lighten-5",on:{click:function(a){t.onEdit(e)}}},[t._v("\n          Zwróć\n        ")])])])])})],2)},staticRenderFns:[]};var g={name:"Recieve",data:function(){return{loading:!0,territories:[],publishers:[],editId:"",editData:{},searchDesc:"",searchSurname:"",nDate:new Date}},components:{ListT:a("VU/8")({name:"ListT",data:function(){return{searching:""}},props:["editId","editData","onCancel","onDelete","onEdit","onEditSubmit","sortedT","onSelect","sortedP","searchSurname","nDate","loading"],methods:{onCancelHandler:function(){this.searching="",this.onCancel()}}},_,!1,function(t){a("YTNB")},"data-v-706d9d75",null).exports},computed:{sortedT:function(){var t=this;return this.territories.slice().filter(function(e){return e.desc.toLowerCase().includes(t.searchDesc.toLowerCase())}).sort(function(t,e){return t.number-e.number})},sortedP:function(){var t=this;return this.publishers.slice().filter(function(e){return e.surname.toLowerCase().includes(t.searchSurname.toLowerCase())})}},created:function(){this.getT(),this.getP()},methods:{getT:function(){var t=this;v.collection("territories").where("free","==",!1).get().then(function(e){var a=[];e.forEach(function(t){a.push(t.data())}),t.territories=a,t.loading=!1})},getP:function(){var t=this;v.collection("publishers").get().then(function(e){var a=[];e.forEach(function(t){a.push(t.data())}),t.publishers=a})},onEdit:function(t){this.editId=t.tid,this.editData.number=t.number,this.editData.desc=t.desc,this.editData.tel=t.tel,this.editData.given=t.given,this.editData.recieved=t.recieved,this.editData.free=t.free},onEditSubmit:function(){var t=this;this.editData.recieved.push(this.nDate.getTime()),v.collection("territories").where("tid","==",this.editId).get().then(function(e){e.forEach(function(e){e.ref.set({tid:t.editId,number:t.editData.number,desc:t.editData.desc,tel:t.editData.tel,given:t.editData.given,recieved:t.editData.recieved,free:!0}).then(t.getT)}),t.onCancel()})},onCancel:function(){this.editId="",this.editData={},this.searchSurname="",this.nDate=new Date}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"nav-wrapper"},[a("form",[a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchDesc,expression:"searchDesc"}],attrs:{id:"search",placeholder:"Szukaj opisu",type:"search",required:""},domProps:{value:t.searchDesc},on:{input:function(e){e.target.composing||(t.searchDesc=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("i",{staticClass:"material-icons",on:{click:function(e){t.searchDesc=""}}},[t._v("\n          close")])])])]),t._v(" "),a("list-t",{attrs:{editId:t.editId,editData:t.editData,onCancel:t.onCancel,onEdit:t.onEdit,onEditSubmit:t.onEditSubmit,sortedT:t.sortedT,sortedP:t.sortedP,nDate:t.nDate,loading:t.loading},on:{"search-surname":function(e){t.searchSurname=e}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label-icon",attrs:{for:"search"}},[e("i",{staticClass:"material-icons"},[this._v("search")])])}]};var b=a("VU/8")(g,D,!1,function(t){a("DEo1")},"data-v-b1d31c74",null).exports,C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Dodaj głosiciela")]),t._v(" "),a("div",{staticClass:"card addP"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPData.name,expression:"addPData.name"}],staticClass:"validate",attrs:{placeholder:"Imię"},domProps:{value:t.addPData.name},on:{input:function(e){e.target.composing||t.$set(t.addPData,"name",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addPData.surname,expression:"addPData.surname"}],staticClass:"validate",attrs:{placeholder:"Nazwisko"},domProps:{value:t.addPData.surname},on:{input:function(e){e.target.composing||t.$set(t.addPData,"surname",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn-flat btn-large",on:{click:t.onAdd}},[a("i",{staticClass:"material-icons"},[t._v("\n        add\n      ")])])])])},staticRenderFns:[]};var P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Głosiciele")]),t._v(" "),t.loading?a("div",{staticClass:"progress grey lighten-5"},[a("div",{staticClass:"indeterminate green"})]):t._e(),t._v(" "),t._l(t.sortedP,function(e){return a("div",{key:e.pid,staticClass:"collection"},[t.editId===e.pid?a("div",{staticClass:"collection-item list-item",class:{"green lighten-5":t.editId===e.pid}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editPData.name,expression:"editPData.name"}],staticClass:"validate",domProps:{value:t.editPData.name},on:{input:function(e){e.target.composing||t.$set(t.editPData,"name",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editPData.surname,expression:"editPData.surname"}],staticClass:"validate",domProps:{value:t.editPData.surname},on:{input:function(e){e.target.composing||t.$set(t.editPData,"surname",e.target.value)}}})]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn-large",on:{click:t.onEditSubmit}},[a("i",{staticClass:"material-icons"},[t._v("\n            check\n          ")])]),t._v(" "),a("button",{staticClass:"btn-flat btn-large",on:{click:t.onCancel}},[a("i",{staticClass:"material-icons"},[t._v("\n            cancel\n          ")])])])]):a("div",{staticClass:"collection-item list-item"},[a("div",[t._v(t._s(e.name))]),t._v(" "),a("div",[t._v(t._s(e.surname))]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn",on:{click:function(a){t.onEdit(e)}}},[a("i",{staticClass:"material-icons"},[t._v("\n            mode_edit\n          ")])]),t._v(" "),a("button",{staticClass:"btn-flat btn",on:{click:function(a){t.onDelete(e.pid)}}},[a("i",{staticClass:"material-icons"},[t._v("\n            delete\n          ")])]),t._v(" "),a("router-link",{attrs:{to:{name:"PPage",params:{pid:e.pid}}}},[a("button",{staticClass:"btn-flat btn"},[a("i",{staticClass:"material-icons"},[t._v("\n                search\n              ")])])])],1)])])})],2)},staticRenderFns:[]};var T={name:"Publishers",data:function(){return{loading:!0,publishers:[],addPData:{pid:"",name:"",surname:"",has:[]},editId:"",editPData:{pid:"",name:"",surname:"",has:[]},searchSurname:""}},components:{AddP:a("VU/8")({name:"AddP",props:["addPData","onAdd"]},C,!1,function(t){a("d6kg")},"data-v-0cd20609",null).exports,ListP:a("VU/8")({name:"ListP",props:["editId","editPData","onCancel","onDelete","onEdit","onEditSubmit","sortedP","loading"]},P,!1,function(t){a("k+ZD")},"data-v-3f39199e",null).exports},computed:{sortedP:function(){var t=this;return this.publishers.slice().filter(function(e){return e.surname.toLowerCase().includes(t.searchSurname.toLowerCase())}).sort(function(t,e){return t.surname>e.surname})}},created:function(){this.getP()},methods:{getP:function(){var t=this;v.collection("publishers").get().then(function(e){var a=[];e.forEach(function(t){a.push(t.data())}),t.loading=!1,t.publishers=a})},onAdd:function(){this.addPData.pid=(new Date).getTime(),v.collection("publishers").add(this.addPData).then(this.getP),this.addPData={pid:"",name:"",surname:"",has:""}},onDelete:function(t){var e=this;v.collection("publishers").where("pid","==",t).get().then(function(t){t.forEach(function(t){t.ref.delete().then(e.getP)})})},onEdit:function(t){this.editId=t.pid,this.editPData.name=t.name,this.editPData.surname=t.surname},onCancel:function(){this.editId="",this.editPData.name="",this.editPData.surname=""},onEditSubmit:function(){var t=this;v.collection("publishers").where("pid","==",this.editId).get().then(function(e){e.forEach(function(e){e.ref.set({pid:t.editId,name:t.editPData.name,surname:t.editPData.surname}).then(t.getP)}),t.onCancel()})}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"nav-wrapper"},[a("form",[a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSurname,expression:"searchSurname"}],attrs:{id:"search",placeholder:"Szukaj nazwiska",type:"search",required:""},domProps:{value:t.searchSurname},on:{input:function(e){e.target.composing||(t.searchSurname=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("i",{staticClass:"material-icons",on:{click:function(e){t.searchSurname=""}}},[t._v("\n          close")])])])]),t._v(" "),a("add-p",{attrs:{addPData:t.addPData,onAdd:t.onAdd}}),t._v(" "),a("list-p",{attrs:{editId:t.editId,editPData:t.editPData,onCancel:t.onCancel,onDelete:t.onDelete,onEdit:t.onEdit,onEditSubmit:t.onEditSubmit,sortedP:t.sortedP,loading:t.loading}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label-icon",attrs:{for:"search"}},[e("i",{staticClass:"material-icons"},[this._v("search")])])}]};var k=a("VU/8")(T,E,!1,function(t){a("2TCz")},"data-v-20ab6978",null).exports,w={name:"PPage",data:function(){return{pid:"",name:"",surname:"",loaded:!1}},beforeCreate:function(){var t=this;v.collection("publishers").where("pid","==",this.$route.params.pid).get().then(function(e){e.forEach(function(e){var a=e.data(),i=a.pid,n=a.name,s=a.surname;t.pid=i,t.name=n,t.surname=s}),t.loaded=!0})}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?a("div",[a("h3",[t._v(t._s(t.name)+" "+t._s(t.surname))]),t._v(" "),a("p",[t._v("pid: "+t._s(t.pid))]),t._v(" "),a("router-link",{attrs:{to:"/Publishers"}},[a("button",{staticClass:"waves-effect waves-light btn-small green green"},[t._v("Wróć")])])],1):a("div",{staticClass:"progress grey lighten-5"},[a("div",{staticClass:"indeterminate green"})])])},staticRenderFns:[]};var I=a("VU/8")(w,S,!1,function(t){a("bJhI")},"data-v-3aa74141",null).exports,y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Dodaj teren")]),t._v(" "),a("div",{staticClass:"card addP"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addTData.number,expression:"addTData.number"}],staticClass:"validate",attrs:{type:"number",placeholder:"Numer terenu"},domProps:{value:t.addTData.number},on:{input:function(e){e.target.composing||t.$set(t.addTData,"number",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addTData.desc,expression:"addTData.desc"}],staticClass:"validate",attrs:{placeholder:"Opis terenu"},domProps:{value:t.addTData.desc},on:{input:function(e){e.target.composing||t.$set(t.addTData,"desc",e.target.value)}}})]),t._v(" "),a("div",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addTData.tel,expression:"addTData.tel"}],staticClass:"filled-in",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.addTData.tel)?t._i(t.addTData.tel,null)>-1:t.addTData.tel},on:{change:function(e){var a=t.addTData.tel,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&t.$set(t.addTData,"tel",a.concat([null])):s>-1&&t.$set(t.addTData,"tel",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.addTData,"tel",n)}}}),t._v(" "),a("span",[t._v("Telefoniczny")])])]),t._v(" "),a("button",{staticClass:"btn-flat btn-large",on:{click:t.onAdd}},[a("i",{staticClass:"material-icons"},[t._v("\n          add\n        ")])])])])},staticRenderFns:[]};var x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Tereny")]),t._v(" "),t.loading?a("div",{staticClass:"progress grey lighten-5"},[a("div",{staticClass:"indeterminate green"})]):t._e(),t._v(" "),t._l(t.sortedT,function(e){return a("div",{key:e.tid,staticClass:"collection"},[t.editId===e.tid?a("div",{staticClass:"collection-item list-item",class:{"green lighten-5":t.editId===e.tid}},[a("div",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.tel,expression:"editData.tel"}],staticClass:"filled-in",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.editData.tel)?t._i(t.editData.tel,null)>-1:t.editData.tel},on:{change:function(e){var a=t.editData.tel,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&t.$set(t.editData,"tel",a.concat([null])):s>-1&&t.$set(t.editData,"tel",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.editData,"tel",n)}}}),t._v(" "),a("span",[t._v("Telefoniczny")])])]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.desc,expression:"editData.desc"}],staticClass:"validate",domProps:{value:t.editData.desc},on:{input:function(e){e.target.composing||t.$set(t.editData,"desc",e.target.value)}}})]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn-large",on:{click:t.onEditSubmit}},[a("i",{staticClass:"material-icons"},[t._v("\n            check\n          ")])]),t._v(" "),a("button",{staticClass:"btn-flat btn-large",on:{click:t.onCancel}},[a("i",{staticClass:"material-icons"},[t._v("\n            cancel\n          ")])])])]):a("div",{staticClass:"collection-item list-item"},[a("div",[a("span",[t._v("\n          "+t._s(e.number)+"\n        ")]),t._v(" "),a("span",[t._v("\n          "+t._s(e.tel?"☎":"")+"\n        ")])]),t._v(" "),a("div",[t._v(t._s(e.desc))]),t._v(" "),a("div",[a("button",{staticClass:"btn-flat btn",on:{click:function(a){t.onEdit(e)}}},[a("i",{staticClass:"material-icons"},[t._v("\n            mode_edit\n          ")])]),t._v(" "),a("button",{staticClass:"btn-flat btn",on:{click:function(a){t.onDelete(e.tid)}}},[a("i",{staticClass:"material-icons"},[t._v("\n            delete\n          ")])]),t._v(" "),a("router-link",{attrs:{to:{name:"TPage",params:{tid:e.tid}}}},[a("button",{staticClass:"btn-flat btn"},[a("i",{staticClass:"material-icons"},[t._v("\n                search\n              ")])])])],1)])])})],2)},staticRenderFns:[]};var $={name:"Territories",data:function(){return{loading:!0,territories:[],addTData:{tid:"",number:"",desc:"",tel:!1,free:!0,given:[],recieved:[]},editId:"",editData:{},searchDesc:""}},components:{AddT:a("VU/8")({name:"AddT",props:["addTData","onAdd"]},y,!1,function(t){a("GsN4")},"data-v-3fb9fdc2",null).exports,ListT:a("VU/8")({name:"ListT",props:["editId","editData","onCancel","onDelete","onEdit","onEditSubmit","sortedT","loading"]},x,!1,function(t){a("Zn8r")},"data-v-3814dab5",null).exports},computed:{sortedT:function(){var t=this;return this.territories.slice().filter(function(e){return e.desc.includes(t.searchDesc)}).sort(function(t,e){return t.number-e.number})}},created:function(){this.getT()},methods:{getT:function(){var t=this;v.collection("territories").get().then(function(e){var a=[];e.forEach(function(t){a.push(t.data())}),t.territories=a,t.loading=!1})},onAdd:function(){this.addTData.tid=(new Date).getTime(),v.collection("territories").add(this.addTData).then(this.getT),this.addTData={tid:"",number:"",desc:"",tel:!1,free:!0,given:[],recieved:[]}},onDelete:function(t){var e=this;v.collection("territories").where("tid","==",t).get().then(function(t){t.forEach(function(t){t.ref.delete().then(e.getT)})})},onEdit:function(t){this.editId=t.tid,this.editData.number=t.number,this.editData.desc=t.desc,this.editData.tel=t.tel,this.editData.free=t.free,this.editData.given=t.given,this.editData.recieved=t.recieved},onCancel:function(){this.editId="",this.editData.number={}},onEditSubmit:function(){var t=this;v.collection("territories").where("tid","==",this.editId).get().then(function(e){e.forEach(function(e){e.ref.set({tid:t.editId,number:t.editData.number,desc:t.editData.desc,tel:t.editData.tel,free:t.editData.free,given:t.editData.given,recieved:t.editData.recieved}).then(t.getT)}),t.onCancel()})}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"nav-wrapper"},[a("form",[a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchDesc,expression:"searchDesc"}],attrs:{id:"search",placeholder:"Szukaj opisu",type:"search",required:""},domProps:{value:t.searchDesc},on:{input:function(e){e.target.composing||(t.searchDesc=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("i",{staticClass:"material-icons",on:{click:function(e){t.searchDesc=""}}},[t._v("\n          close")])])])]),t._v(" "),a("add-t",{attrs:{addTData:t.addTData,onAdd:t.onAdd}}),t._v(" "),a("list-t",{attrs:{editId:t.editId,editData:t.editData,onCancel:t.onCancel,onDelete:t.onDelete,onEdit:t.onEdit,onEditSubmit:t.onEditSubmit,sortedT:t.sortedT,loading:t.loading}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label-icon",attrs:{for:"search"}},[e("i",{staticClass:"material-icons"},[this._v("search")])])}]};var z=a("VU/8")($,A,!1,function(t){a("Kv6q")},"data-v-67b4675b",null).exports,N={name:"TPage",data:function(){return{tid:"",number:"",desc:"",tel:"",free:"",given:[],recieved:[],loaded:!1}},beforeCreate:function(){var t=this;v.collection("territories").where("tid","==",this.$route.params.tid).get().then(function(e){e.forEach(function(e){var a=e.data(),i=a.tid,n=a.number,s=a.desc,r=a.tel,d=a.free,c=a.given,o=a.recieved;t.tid=i,t.number=n,t.desc=s,t.tel=r,t.free=d,t.given=c,t.recieved=o}),t.loaded=!0})}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?a("div",[a("h2",[t._v("\n      "+t._s(t.number)+"\n    ")]),t._v(" "),a("h3",[t._v("\n      "+t._s(t.desc)+"\n    ")]),t._v(" "),a("p",[t._v("ID: "+t._s(t.tid))]),t._v(" "),a("p",[t._v("Tel: "+t._s(t.tel))]),t._v(" "),a("p",[t._v("Free: "+t._s(t.free))]),t._v(" "),a("p",[t._v("Given: "+t._s(t.given))]),t._v(" "),a("p",[t._v("Recieved: "+t._s(t.recieved))]),t._v(" "),a("router-link",{attrs:{to:"/Territories"}},[a("button",{staticClass:"waves-effect waves-light btn-small green green"},[t._v("Wróć")])])],1):a("div",{staticClass:"progress grey lighten-5"},[a("div",{staticClass:"indeterminate green"})])])},staticRenderFns:[]};var L=a("VU/8")(N,F,!1,function(t){a("jlgN")},"data-v-30489e65",null).exports;i.a.use(r.a);var R=new r.a({routes:[{path:"/",name:"Home",component:c},{path:"/Give",name:"Give",component:p},{path:"/Recieve",name:"Recieve",component:b},{path:"/Publishers",name:"Publishers",component:k},{path:"/territories",name:"Territories",component:z},{path:"/publisher/:pid",name:"PPage",component:I},{path:"/territory/:tid",name:"TPage",component:L}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:R,components:{App:s},template:"<App/>"})},YTNB:function(t,e){},Zn8r:function(t,e){},bJhI:function(t,e){},d6kg:function(t,e){},jlgN:function(t,e){},"k+ZD":function(t,e){},"mg/Y":function(t,e){},rILa:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7d882c03315ad4290990.js.map